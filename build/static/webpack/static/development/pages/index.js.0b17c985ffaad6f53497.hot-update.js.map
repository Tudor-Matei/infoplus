{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.0b17c985ffaad6f53497.hot-update.js","sources":["webpack:///./components/utils/submitHandler.js"],"sourcesContent":["import checkFieldsValidity from \"../../utils/checkFieldsValidity\";\r\nexport default function submitHandler({\r\n    e,\r\n    userDetails,\r\n    showErrorMessage,\r\n    setDisabled,\r\n    modalHandler,\r\n    modifyAlert,\r\n    fetchEndpoint,\r\n}) {\r\n    e.preventDefault();\r\n    setDisabled(true);\r\n\r\n    const errorMessage = checkFieldsValidity({\r\n        fields: userDetails,\r\n        minimumLengthForEachField: {\r\n            name: 3,\r\n            surname: 3,\r\n            username: 5,\r\n            password: 8,\r\n        },\r\n        hasEmail: true,\r\n    });\r\n\r\n    if (errorMessage !== false) {\r\n        setDisabled(false);\r\n        return showErrorMessage(errorMessage);\r\n    }\r\n\r\n    fetch(fetchEndpoint, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(userDetails),\r\n    })\r\n        .then((r) => r.json())\r\n        .then(({ ok, error = null }) => {\r\n            if (!ok)\r\n                modifyAlert({\r\n                    isVisible: true,\r\n                    props: {\r\n                        type: 0,\r\n                        children: !error\r\n                            ? \"A apărut o eroare internă, vă rugam să ne scuzați.\"\r\n                            : error,\r\n                    },\r\n                });\r\n            else\r\n                modifyAlert({\r\n                    isVisible: true,\r\n                    props: {\r\n                        type: 1,\r\n                        children: \"Operațiunea a fost efectuată cu succes.\",\r\n                    },\r\n                });\r\n\r\n            modalHandler();\r\n        })\r\n        .catch((error) => {\r\n            console.error(error);\r\n            setDisabled(false);\r\n            showErrorMessage(\"A aparut o eroare interna, va rog sa ne scuzati.\");\r\n        });\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AARA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAFA;AAWA;AACA;AACA;AACA;AAFA;AAFA;AAQA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}