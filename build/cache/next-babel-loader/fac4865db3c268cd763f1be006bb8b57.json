{"ast":null,"code":"import MongoClient from \"mongodb\";\nimport dbConfig from \"../configs/db\";\nexport default function connectToDatabase(callback) {\n  return new Promise((resolve, reject) => {\n    MongoClient.connect(dbConfig.dbURI, (error, client) => {\n      if (error) {\n        reject(error);\n        return client.close();\n      }\n\n      resolve({\n        db: client.db(dbConfig.dbName),\n        closeConnection: () => client.close()\n      });\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/plesa/Desktop/Proiecte Web/infoplus/utils/connectToDatabase.js"],"names":["MongoClient","dbConfig","connectToDatabase","callback","Promise","resolve","reject","connect","dbURI","error","client","close","db","dbName","closeConnection"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,SAAxB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,eAAe,SAASC,iBAAT,CAA2BC,QAA3B,EAAqC;AAChD,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCN,IAAAA,WAAW,CAACO,OAAZ,CAAoBN,QAAQ,CAACO,KAA7B,EAAoC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnD,UAAID,KAAJ,EAAW;AACPH,QAAAA,MAAM,CAACG,KAAD,CAAN;AACA,eAAOC,MAAM,CAACC,KAAP,EAAP;AACH;;AAEDN,MAAAA,OAAO,CAAC;AACJO,QAAAA,EAAE,EAAEF,MAAM,CAACE,EAAP,CAAUX,QAAQ,CAACY,MAAnB,CADA;AAEJC,QAAAA,eAAe,EAAE,MAAMJ,MAAM,CAACC,KAAP;AAFnB,OAAD,CAAP;AAIH,KAVD;AAWH,GAZM,CAAP;AAaH","sourcesContent":["import MongoClient from \"mongodb\";\r\nimport dbConfig from \"../configs/db\";\r\n\r\nexport default function connectToDatabase(callback) {\r\n    return new Promise((resolve, reject) => {\r\n        MongoClient.connect(dbConfig.dbURI, (error, client) => {\r\n            if (error) {\r\n                reject(error);\r\n                return client.close();\r\n            }\r\n\r\n            resolve({\r\n                db: client.db(dbConfig.dbName),\r\n                closeConnection: () => client.close(),\r\n            });\r\n        });\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}