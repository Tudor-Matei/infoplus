{"ast":null,"code":"import connectToDatabase from \"../../utils/connectToDatabase\";\nexport default (async (req, res) => {\n  const db = await connectToDatabase().catch(console.log);\n  const users = db.collection(\"users\");\n  users.insertOne(JSON.parse(req.body), (error, result) => {\n    if (error) {\n      console.error(error);\n      return res.status(200).json({\n        ok: 0,\n        error\n      });\n    }\n  });\n  console.log(req.body);\n});","map":{"version":3,"sources":["C:/Users/plesa/Desktop/Proiecte Web/infoplus/pages/api/register.js"],"names":["connectToDatabase","req","res","db","catch","console","log","users","collection","insertOne","JSON","parse","body","error","result","status","json","ok"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,+BAA9B;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,QAAMC,EAAE,GAAG,MAAMH,iBAAiB,GAAGI,KAApB,CAA0BC,OAAO,CAACC,GAAlC,CAAjB;AACA,QAAMC,KAAK,GAAGJ,EAAE,CAACK,UAAH,CAAc,OAAd,CAAd;AAEAD,EAAAA,KAAK,CAACE,SAAN,CAAgBC,IAAI,CAACC,KAAL,CAAWV,GAAG,CAACW,IAAf,CAAhB,EAAsC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACrD,QAAID,KAAJ,EAAW;AACPR,MAAAA,OAAO,CAACQ,KAAR,CAAcA,KAAd;AACA,aAAOX,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,EAAE,EAAE,CAAN;AAASJ,QAAAA;AAAT,OAArB,CAAP;AACH;AACJ,GALD;AAOAR,EAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACW,IAAhB;AACH,CAZD","sourcesContent":["import connectToDatabase from \"../../utils/connectToDatabase\";\r\n\r\nexport default async (req, res) => {\r\n    const db = await connectToDatabase().catch(console.log);\r\n    const users = db.collection(\"users\");\r\n\r\n    users.insertOne(JSON.parse(req.body), (error, result) => {\r\n        if (error) {\r\n            console.error(error);\r\n            return res.status(200).json({ ok: 0, error });\r\n        }\r\n    });\r\n\r\n    console.log(req.body);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}