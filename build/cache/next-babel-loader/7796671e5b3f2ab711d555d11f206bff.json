{"ast":null,"code":"import MongoClient from \"mongodb\";\nimport dbConfig from \"../configs/db\";\nexport default function connectToDatabaseThen(callback) {\n  MongoClient.connect(dbConfig.dbURI, {\n    useUnifiedTopology: true\n  }, (error, client) => {\n    if (error) {\n      client.close();\n      return reject(error);\n    }\n\n    callback(client.db(dbConfig.dbName));\n    client.close();\n  });\n}","map":{"version":3,"sources":["C:/Users/plesa/Desktop/Proiecte Web/infoplus/utils/connectToDatabase.js"],"names":["MongoClient","dbConfig","connectToDatabaseThen","callback","connect","dbURI","useUnifiedTopology","error","client","close","reject","db","dbName"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,SAAxB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,eAAe,SAASC,qBAAT,CAA+BC,QAA/B,EAAyC;AACpDH,EAAAA,WAAW,CAACI,OAAZ,CACIH,QAAQ,CAACI,KADb,EAEI;AAAEC,IAAAA,kBAAkB,EAAE;AAAtB,GAFJ,EAGI,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACf,QAAID,KAAJ,EAAW;AACPC,MAAAA,MAAM,CAACC,KAAP;AACA,aAAOC,MAAM,CAACH,KAAD,CAAb;AACH;;AAEDJ,IAAAA,QAAQ,CAACK,MAAM,CAACG,EAAP,CAAUV,QAAQ,CAACW,MAAnB,CAAD,CAAR;AACAJ,IAAAA,MAAM,CAACC,KAAP;AACH,GAXL;AAaH","sourcesContent":["import MongoClient from \"mongodb\";\r\nimport dbConfig from \"../configs/db\";\r\n\r\nexport default function connectToDatabaseThen(callback) {\r\n    MongoClient.connect(\r\n        dbConfig.dbURI,\r\n        { useUnifiedTopology: true },\r\n        (error, client) => {\r\n            if (error) {\r\n                client.close();\r\n                return reject(error);\r\n            }\r\n\r\n            callback(client.db(dbConfig.dbName));\r\n            client.close();\r\n        }\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}