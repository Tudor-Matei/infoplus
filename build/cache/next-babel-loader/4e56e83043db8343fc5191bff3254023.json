{"ast":null,"code":"import MongoClient from \"mongodb\";\nimport dbConfig from \"../configs/db\";\nexport default function connectToDatabase() {\n  return Promise.resolve().then(() => {\n    MongoClient.connect(dbConfig.dbURI, (error, client) => {\n      if (error) {\n        console.error(error);\n        client.close();\n        return error;\n      }\n\n      return {\n        db: client.db(dbConfig.dbName),\n        closeConnection: () => client.close()\n      };\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/plesa/Desktop/Proiecte Web/infoplus/utils/connectToDatabase.js"],"names":["MongoClient","dbConfig","connectToDatabase","Promise","resolve","then","connect","dbURI","error","client","console","close","db","dbName","closeConnection"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,SAAxB;AACA,OAAOC,QAAP,MAAqB,eAArB;AAEA,eAAe,SAASC,iBAAT,GAA6B;AACxC,SAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,MAAM;AAChCL,IAAAA,WAAW,CAACM,OAAZ,CAAoBL,QAAQ,CAACM,KAA7B,EAAoC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnD,UAAID,KAAJ,EAAW;AACPE,QAAAA,OAAO,CAACF,KAAR,CAAcA,KAAd;AACAC,QAAAA,MAAM,CAACE,KAAP;AACA,eAAOH,KAAP;AACH;;AAED,aAAO;AAAEI,QAAAA,EAAE,EAAEH,MAAM,CAACG,EAAP,CAAUX,QAAQ,CAACY,MAAnB,CAAN;AAAkCC,QAAAA,eAAe,EAAE,MAAML,MAAM,CAACE,KAAP;AAAzD,OAAP;AACH,KARD;AASH,GAVM,CAAP;AAWH","sourcesContent":["import MongoClient from \"mongodb\";\r\nimport dbConfig from \"../configs/db\";\r\n\r\nexport default function connectToDatabase() {\r\n    return Promise.resolve().then(() => {\r\n        MongoClient.connect(dbConfig.dbURI, (error, client) => {\r\n            if (error) {\r\n                console.error(error);\r\n                client.close();\r\n                return error;\r\n            }\r\n\r\n            return { db: client.db(dbConfig.dbName), closeConnection: () => client.close() };\r\n        });\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}