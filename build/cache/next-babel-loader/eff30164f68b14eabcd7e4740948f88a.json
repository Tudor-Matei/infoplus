{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState } from \"react\";\nimport InputArea from \"../utils/InputArea\";\nimport formModal from \"../../styles/formModal\";\nimport OverlayDarkener from \"../utils/OverlayDarkener\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nexport default function Register(_ref) {\n  var showRegisterModalHandler = _ref.showRegisterModalHandler;\n\n  var _useState = useState({\n    name: \"\",\n    surname: \"\",\n    county: \"Alba\",\n    profession: \"Elev\",\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  }),\n      userDetails = _useState[0],\n      setUserDetail = _useState[1];\n\n  var userDetailChanger = function userDetailChanger(_ref2, userDetail) {\n    var target = _ref2.target;\n    return setUserDetail(_objectSpread({}, userDetails, _defineProperty({}, userDetail, target.value)));\n  };\n\n  var _useState2 = useState(\"\"),\n      errorMessage = _useState2[0],\n      setErrorMessage = _useState2[1];\n\n  var showErrorMessage = function showErrorMessage(error) {\n    return setErrorMessage(error);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(OverlayDarkener, {\n    onClick: showRegisterModalHandler\n  }), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__title-container\"\n  }, __jsx(RegisterModalWave, null), __jsx(\"h2\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__title\"\n  }, \"\\xCEnregistreaz\\u0103-te\")), __jsx(\"form\", {\n    onSubmit: function onSubmit() {\n      return false;\n    },\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panels\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel-group\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel\"\n  }, __jsx(InputArea, {\n    title: \"Nume\",\n    inputType: \"text\",\n    inputProps: {\n      minLength: 3,\n      required: true\n    },\n    eventHandler: function eventHandler(e) {\n      return userDetailChanger(e, \"name\");\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel\"\n  }, __jsx(InputArea, {\n    title: \"Prenume\",\n    inputType: \"text\",\n    inputProps: {\n      minLength: 3,\n      required: true\n    },\n    eventHandler: function eventHandler(e) {\n      return userDetailChanger(e, \"surname\");\n    }\n  }))), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel-group\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel\"\n  }, __jsx(InputArea, {\n    title: \"Jude\\u021B\",\n    isSelect: true,\n    optionValues: [\"Alba\", \"Cluj\", \"Bistrita-Nasaud\"],\n    eventHandler: function eventHandler(e) {\n      return userDetailChanger(e, \"county\");\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel\"\n  }, __jsx(InputArea, {\n    title: \"Profesie\",\n    isSelect: true,\n    optionValues: [\"Elev\", \"Profesor\"],\n    eventHandler: function eventHandler(e) {\n      return userDetailChanger(e, \"profession\");\n    }\n  }))), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel-group\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel\"\n  }, __jsx(InputArea, {\n    title: \"Nume Utilizator\",\n    inputType: \"text\",\n    inputProps: {\n      minLength: 5,\n      required: true\n    },\n    eventHandler: function eventHandler(e) {\n      return userDetailChanger(e, \"username\");\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel\"\n  }, __jsx(InputArea, {\n    title: \"E-mail\",\n    inputType: \"email\",\n    inputProps: {\n      required: true\n    },\n    eventHandler: function eventHandler(e) {\n      return userDetailChanger(e, \"email\");\n    }\n  }))), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel-group\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__input-panel modal__input-panel--last\"\n  }, __jsx(InputArea, {\n    title: \"Parola\",\n    inputType: \"password\",\n    inputProps: {\n      minLength: 8,\n      required: true\n    },\n    eventHandler: function eventHandler(e) {\n      return userDetailChanger(e, \"password\");\n    }\n  }))), __jsx(\"div\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"modal__buttons-container\"\n  }, __jsx(\"button\", {\n    onClick: showRegisterModalHandler,\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"button--tertiary\"\n  }, \"Renun\\u021B\\u0103\"), __jsx(SubmitButton, {\n    userDetails: userDetails,\n    showErrorMessage: showErrorMessage\n  })), errorMessage !== \"\" && __jsx(\"p\", {\n    className: \"jsx-3124442123 \" + \"jsx-\".concat(formModal.__hash) + \" \" + \"error-message\"\n  }, errorMessage, \" \", __jsx(FontAwesomeIcon, {\n    icon: \"times-circle\"\n  }), \" \"))), __jsx(_JSXStyle, {\n    id: formModal.__hash\n  }, formModal), __jsx(_JSXStyle, {\n    id: \"3124442123\"\n  }, [\".modal.jsx-3124442123{width:50%;}\", \".modal__input-panel.jsx-3124442123:nth-child(odd){margin-right:15px;}\", \".modal__input-panel.jsx-3124442123:nth-child(even){margin-left:15px;}\", \".modal__input-panel.modal__input-panel--last.jsx-3124442123{margin-right:0;margin-left:0;}\", \"@media screen and (max-width:825px){.modal__input-panel.jsx-3124442123:nth-child(n){margin-left:0;margin-right:0;}}\"]));\n}\n\nfunction SubmitButton(_ref3) {\n  var userDetails = _ref3.userDetails,\n      showErrorMessage = _ref3.showErrorMessage;\n  return __jsx(\"button\", {\n    type: \"submit\",\n    onClick: function onClick(e) {\n      if (!checkFieldValidity(userDetails, showErrorMessage)) return;\n      e.preventDefault();\n      fetch(\"/api/register\", {\n        method: \"POST\",\n        body: JSON.stringify(userDetails)\n      });\n    },\n    className: \"button--primary\"\n  }, \"Creeaz\\u0103\");\n}\n\nfunction RegisterModalWave() {\n  return __jsx(\"svg\", {\n    viewBox: \"0 0 646 184\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: \"modal__wave\",\n    preserveAspectRatio: \"none\"\n  }, __jsx(\"path\", {\n    d: \"M0 0L646 9.53674e-07V155.911C646 155.911 580.59 179.393 468.2 182.62C355.81 185.847 285.267 171.488 207.13 155.911C46.027 123.793 1.90735e-06 155.911 1.90735e-06 155.911L0 0Z\",\n    fill: \"var(--accent-primary)\"\n  }));\n}\n\nfunction checkFieldValidity(state, showErrorMessage) {\n  if (Object.values(state).some(function (value) {\n    return value.trim() === \"\";\n  })) {\n    showErrorMessage(\"Nu ai completat unul sau mai multe câmpuri.\");\n    return false;\n  } else if (state.name.length < 3 || state.surname.length < 3 || state.username.length < 5 || state.password.length < 8) {\n    showErrorMessage(\"Unul sau mai multe câmpuri nu indeplinesc numarul de caractere minim.\");\n    return false;\n  } else if (!isEmailValid(state.email)) {\n    showErrorMessage(\"Adresa de e-mail pe care ai introdus-o nu este validă.\");\n    return false;\n  }\n\n  return true;\n}\n\nfunction isEmailValid(email) {\n  return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/gim.test(email);\n}","map":null,"metadata":{},"sourceType":"module"}