{"ast":null,"code":"import { MongoClient } from \"mongodb\";\nimport { dbName, dbURI } from \"../../util/dbConfig\";\nexport default ((req, res) => {\n  let queryResult = \"\";\n  MongoClient.connect(dbURI, async (error, client) => {\n    if (error) throw error;\n    const db = client.db(dbName);\n    console.log(\"connected to the server!\");\n    queryResult = await db.collection(\"quotes\").findOne({\n      author: \"MWR\"\n    });\n    client.close();\n  }).then(res.status(200).json(queryResult));\n});","map":{"version":3,"sources":["C:/Users/Tudor/Desktop/Proiecte Web/infoplus/pages/api/db.js"],"names":["MongoClient","dbName","dbURI","req","res","queryResult","connect","error","client","db","console","log","collection","findOne","author","close","then","status","json"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,qBAA9B;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,MAAIC,WAAW,GAAG,EAAlB;AACAL,EAAAA,WAAW,CAACM,OAAZ,CAAoBJ,KAApB,EAA2B,OAAOK,KAAP,EAAcC,MAAd,KAAyB;AAClD,QAAID,KAAJ,EAAW,MAAMA,KAAN;AAEX,UAAME,EAAE,GAAGD,MAAM,CAACC,EAAP,CAAUR,MAAV,CAAX;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AAEAN,IAAAA,WAAW,GAAG,MAAMI,EAAE,CAACG,UAAH,CAAc,QAAd,EAAwBC,OAAxB,CAAgC;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAhC,CAApB;AAEAN,IAAAA,MAAM,CAACO,KAAP;AACD,GATD,EASGC,IATH,CASQZ,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBb,WAArB,CATR;AAUD,CAZD","sourcesContent":["import { MongoClient } from \"mongodb\";\r\nimport { dbName, dbURI } from \"../../util/dbConfig\";\r\n\r\nexport default (req, res) => {\r\n  let queryResult = \"\";\r\n  MongoClient.connect(dbURI, async (error, client) => {\r\n    if (error) throw error;\r\n\r\n    const db = client.db(dbName);\r\n    console.log(\"connected to the server!\");\r\n\r\n    queryResult = await db.collection(\"quotes\").findOne({ author: \"MWR\" });\r\n\r\n    client.close();\r\n  }).then(res.status(200).json(queryResult));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}