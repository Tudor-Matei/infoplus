{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport { MongoClient } from \"mongodb\";\nimport { dbName, dbURI } from \"../../util/dbConfig\";\nlet queryResult = \"\";\nMongoClient.connect(dbURI, (error, client) => {\n  if (error) throw error;\n  const db = client.db(dbName);\n  console.log(\"connected to the server!\");\n  queryResult = db.collection(\"quotes\").findOne({\n    author: \"MWR\"\n  });\n  console.log(_Promise.resolve(queryResult));\n  client.close();\n});\nexport default ((req, res) => {\n  res.status(404);\n});","map":{"version":3,"sources":["C:/Users/Tudor/Desktop/Proiecte Web/infoplus/pages/api/db.js"],"names":["MongoClient","dbName","dbURI","queryResult","connect","error","client","db","console","log","collection","findOne","author","resolve","close","req","res","status"],"mappings":";AAAA,SAASA,WAAT,QAA4B,SAA5B;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,qBAA9B;AAEA,IAAIC,WAAW,GAAG,EAAlB;AAEAH,WAAW,CAACI,OAAZ,CAAoBF,KAApB,EAA2B,CAACG,KAAD,EAAQC,MAAR,KAAmB;AAC5C,MAAID,KAAJ,EAAW,MAAMA,KAAN;AACX,QAAME,EAAE,GAAGD,MAAM,CAACC,EAAP,CAAUN,MAAV,CAAX;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AAEAN,EAAAA,WAAW,GAAGI,EAAE,CAACG,UAAH,CAAc,QAAd,EAAwBC,OAAxB,CAAgC;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAhC,CAAd;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAQI,OAAR,CAAgBV,WAAhB,CAAZ;AAEAG,EAAAA,MAAM,CAACQ,KAAP;AACD,CATD;AAWA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX;AACD,CAFD","sourcesContent":["import { MongoClient } from \"mongodb\";\r\nimport { dbName, dbURI } from \"../../util/dbConfig\";\r\n\r\nlet queryResult = \"\";\r\n\r\nMongoClient.connect(dbURI, (error, client) => {\r\n  if (error) throw error;\r\n  const db = client.db(dbName);\r\n  console.log(\"connected to the server!\");\r\n\r\n  queryResult = db.collection(\"quotes\").findOne({ author: \"MWR\" });\r\n  console.log(Promise.resolve(queryResult));\r\n\r\n  client.close();\r\n});\r\n\r\nexport default (req, res) => {\r\n  res.status(404);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}