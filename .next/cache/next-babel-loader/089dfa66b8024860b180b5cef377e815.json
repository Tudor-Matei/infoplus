{"ast":null,"code":"import { MongoClient } from \"mongodb\";\nimport dbConfig from \"../../util/dbConfig\"; //TODO: vezi de ce se tot conecteaza dijaba la server\n\nexport default ((req, res) => {\n  MongoClient.connect(dbConfig.dbURI, (error, client) => {\n    if (error) throw error;\n    const db = client.db(dbConfig.dbName);\n    console.log(\"connected to the server!\");\n    res.status(200).json();\n    const result = db.collection(\"quotes\").findOne({\n      author: \"MWR\"\n    });\n    res.then(res.status(200).json).catch(console.error);\n    client.close().then(() => console.log(\"connection closed.\")).catch(console.error);\n  });\n});","map":{"version":3,"sources":["C:/Users/Tudor/Desktop/Proiecte Web/infoplus/pages/api/db.js"],"names":["MongoClient","dbConfig","req","res","connect","dbURI","error","client","db","dbName","console","log","status","json","result","collection","findOne","author","then","catch","close"],"mappings":"AAAA,SAASA,WAAT,QAA4B,SAA5B;AACA,OAAOC,QAAP,MAAqB,qBAArB,C,CACA;;AACA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3BH,EAAAA,WAAW,CAACI,OAAZ,CAAoBH,QAAQ,CAACI,KAA7B,EAAoC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACrD,QAAID,KAAJ,EAAW,MAAMA,KAAN;AAEX,UAAME,EAAE,GAAGD,MAAM,CAACC,EAAP,CAAUP,QAAQ,CAACQ,MAAnB,CAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAR,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB;AACA,UAAMC,MAAM,GAAGN,EAAE,CAACO,UAAH,CAAc,QAAd,EAAwBC,OAAxB,CAAgC;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAhC,CAAf;AACAd,IAAAA,GAAG,CAACe,IAAJ,CAASf,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAzB,EAA+BM,KAA/B,CAAqCT,OAAO,CAACJ,KAA7C;AAEAC,IAAAA,MAAM,CACHa,KADH,GAEGF,IAFH,CAEQ,MAAMR,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAFd,EAGGQ,KAHH,CAGST,OAAO,CAACJ,KAHjB;AAID,GAbD;AAcD,CAfD","sourcesContent":["import { MongoClient } from \"mongodb\";\r\nimport dbConfig from \"../../util/dbConfig\";\r\n//TODO: vezi de ce se tot conecteaza dijaba la server\r\nexport default (req, res) => {\r\n  MongoClient.connect(dbConfig.dbURI, (error, client) => {\r\n    if (error) throw error;\r\n\r\n    const db = client.db(dbConfig.dbName);\r\n    console.log(\"connected to the server!\");\r\n    res.status(200).json();\r\n    const result = db.collection(\"quotes\").findOne({ author: \"MWR\" });\r\n    res.then(res.status(200).json).catch(console.error);\r\n\r\n    client\r\n      .close()\r\n      .then(() => console.log(\"connection closed.\"))\r\n      .catch(console.error);\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}